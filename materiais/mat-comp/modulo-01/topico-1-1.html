<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√≥pico 1.1 ‚Äî Representa√ß√£o Num√©rica</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Fira+Code&family=Dancing+Script:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../../style.css">
    
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <style>
        .math-box {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: center;
            overflow-x: auto;
        }
        .concept-box {
            border-left: 4px solid var(--accent);
            background: rgba(46, 204, 113, 0.05);
            padding: 20px;
            margin: 30px 0;
            border-radius: 0 12px 12px 0;
        }
        h2 { color: var(--accent); margin-top: 50px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px; }
        h3 { color: #fff; margin-top: 30px; }
    </style>
</head>
<body class="notion-theme">

    <nav class="top-navbar">
        <a href="index.html" style="color: var(--accent); text-decoration: none; font-weight: bold;">‚Üê VOLTAR AO M√ìDULO 01</a>
        <span class="jessica-signature">CS_HUB / MAT_COMP / T1.1</span>
    </nav>

    <main class="content-wrapper" style="max-width: 900px; margin: 60px auto;">
        <header class="chapter-header">
            <span class="badge-tech">MATEM√ÅTICA COMPUTACIONAL APLICADA</span>
            <h1 style="font-size: 2.2rem; color: var(--accent);">Representa√ß√£o Num√©rica, Modelo de M√°quina e Estabilidade</h1>
            <p>A computa√ß√£o cient√≠fica n√£o opera sobre $ \mathbb{R} $, mas sobre um subconjunto finito $ \mathbb{F} \subset \mathbb{R} $ determinado pela arquitetura de m√°quina.</p>
        </header>

        <section class="glass-container-main" style="padding: 40px; border-radius: 24px;">
            <h2>0. Por que uma Matem√°tica da "Imperfei√ß√£o"?</h2>
            <p>Para um matem√°tico puro, a reta real $ \mathbb{R} $ √© cont√≠nua, infinita e densa. Contudo, para um computador, a mem√≥ria √© finita e a representa√ß√£o √© bin√°ria. Essa colis√£o entre o <strong>cont√≠nuo ideal</strong> e o <strong>discreto f√≠sico</strong> criou a necessidade de uma nova arquitetura.</p>

            <div class="concept-box">
                <p><strong>A Epistemologia do Erro:</strong></p>
                <div class="math-box">
                    $$ \mathbb{F} \subset \mathbb{R} \implies \text{Erro} \neq \text{Falha} $$
                </div>
                <p>O erro n√£o √© um "bug" que deve ser removido, mas uma propriedade do sistema que deve ser gerenciada. Dominar a Matem√°tica Computacional √© aprender a caminhar sobre a "reta furada" de $ \mathbb{F} $ sem cair no abismo das falhas num√©ricas.</p>
            </div>

            <h2>1. Sistema de Ponto Flutuante</h2>
            <h3>1.1 Defini√ß√£o Formal</h3>
            <div class="math-box">
                $$ \mathbb{F}(\beta, p, e_{min}, e_{max}) = \{ \pm (1.d_1d_2...d_{p-1})_\beta \times \beta^e \} $$
            </div>
            <ul>
                <li><strong>$ \beta $ (Base):</strong> Determina o sistema de numera√ß√£o (geralmente 2).</li>
                <li><strong>$ p $ (Precis√£o):</strong> Quantidade de d√≠gitos significativos na mantissa. Define o <em>poder de resolu√ß√£o</em>.</li>
                <li><strong>$ [e_{min}, e_{max}] $ (Expoente):</strong> Define a escala ou magnitude (Overflow vs Underflow).</li>
            </ul>

            <h3>1.2 Espa√ßamento Absoluto ($ \Delta $)</h3>
            <div class="math-box">
                $$ \Delta = \beta^{e-(p-1)} $$
            </div>
            
            <div class="concept-box" style="text-align: center;">
                <h4>Visualiza√ß√£o do Sistema Did√°tico $ \mathbb{F}(2,4,e) $</h4>
                <label>Expoente $ e $: <span id="expValue" style="color:var(--accent); font-weight: bold;">0</span></label>
                <input type="range" min="-5" max="5" value="0" id="expoente" style="width:100%; margin: 15px 0; accent-color: var(--accent);">
                <canvas id="canvasDiscreto" width="800" height="150" style="background: #000; border-radius: 8px; border: 1px solid var(--border); width: 100%;"></canvas>
            </div>

            <h2>2. Padr√£o IEEE 754 (Double Precision)</h2>
            <div class="math-box">
                $$ V = (-1)^s \times (1.m) \times 2^{e - \text{bias}} $$
            </div>
            <ul style="list-style: none; padding: 0;">
                <li>üü¢ <strong>1 bit</strong> de sinal ($s$)</li>
                <li>üü° <strong>11 bits</strong> de expoente ($e$) | Bias = 1023</li>
                <li>üîµ <strong>52 bits</strong> de fra√ß√£o/mantissa ($m$)</li>
            </ul>

            <h3>Deriva√ß√£o da Precis√£o da M√°quina ($ \varepsilon_{mach} $)</h3>
            <p>O menor incremento represent√°vel acima de 1 √© limitado pelos 52 bits da mantissa. Como o arredondamento √© para o par mais pr√≥ximo:</p>
            <div class="math-box">
                $$ \varepsilon_{mach} = 2^{-53} \approx 1.11 \times 10^{-16} $$
            </div>

            <h2>3. Modelo Matem√°tico do Erro</h2>
            <p>A rela√ß√£o fundamental entre um n√∫mero real $ x $ e sua representa√ß√£o na m√°quina $ fl(x) $ √© dada pelo Axioma do Ponto Flutuante:</p>
            <div class="math-box">
                $$ fl(x) = x(1 + \delta), \quad |\delta| \le \varepsilon_{mach} $$
            </div>

            <h2>4. Condicionamento e Estabilidade</h2>
            <p>O n√∫mero de condi√ß√£o $ \kappa $ mede a sensibilidade de uma fun√ß√£o $ f(x) $ a pequenas perturba√ß√µes na entrada:</p>
            <div class="math-box">
                $$ \kappa(f,x) = \left| \frac{x f'(x)}{f(x)} \right| $$
            </div>

            <div class="concept-box">
                <h4 style="margin-top:0; color: var(--accent);">Implementa√ß√£o Computacional Pr√°tica</h4>
                <p>O Teorema da Soma mostra que o erro cresce com as itera√ß√µes. Abaixo, a solu√ß√£o de estabilidade <em>backward</em> (Algoritmo de Kahan):</p>
<pre style="background: #000; padding: 15px; border-radius: 8px; border: 1px solid var(--border); color: #dcdcaa; font-family: 'Fira Code', monospace; overflow-x: auto;">
def kahan_sum(n):
    s, c = 0.0, 0.0
    for _ in range(n):
        y = 0.1 - c
        t = s + y
        c = (t - s) - y
        s = t
    return s
</pre>
            </div>

        </section>

        <footer style="margin-top: 80px; text-align: center; border-top: 1px solid var(--border); padding-top: 40px;">
            <p class="signature" style="font-size: 1.8rem; font-family: 'Dancing Script', cursive;">Jessica Fran√ßa</p>
        </footer>
    </main>

    <script>
        // L√≥gica do Canvas Interativo preservada
        const canvas = document.getElementById("canvasDiscreto");
        const ctx = canvas.getContext("2d");
        const slider = document.getElementById("expoente");
        const expValue = document.getElementById("expValue");

        function draw(e) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            let nums = [];
            for (let i = 0; i < 8; i++) { nums.push((1 + i / 8) * Math.pow(2, e)); }
            let min = nums[0], max = nums[nums.length - 1], scale = (canvas.width - 100) / (max - min);
            
            ctx.beginPath(); ctx.moveTo(50, 75); ctx.lineTo(canvas.width - 50, 75);
            ctx.strokeStyle = "#2ecc71"; ctx.stroke();
            
            nums.forEach(v => {
                let x = 50 + (v - min) * scale;
                ctx.beginPath(); ctx.arc(x, 75, 5, 0, 2 * Math.PI);
                ctx.fillStyle = "#2ecc71"; ctx.fill();
            });
            ctx.fillStyle = "#2ecc71"; 
            ctx.font = "14px Fira Code";
            ctx.fillText("Œî = 2^(" + (e - 3) + ")", 50, 120);
        }

        slider.addEventListener("input", function () {
            expValue.textContent = this.value;
            draw(parseInt(this.value));
        });

        // Inicializa o Canvas
        setTimeout(() => draw(0), 500); // Timeout leve para garantir renderiza√ß√£o do width
    </script>
</body>
</html>