<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√≥pico 1.1 ‚Äî Representa√ß√£o Num√©rica e Estabilidade</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Fira+Code&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../../../style.css">

    <style>
        :root {
            --bg-main: #0b0f14;
            --accent: #2ecc71;
            --text: #ffffff;
            --glass: rgba(255, 255, 255, 0.05);
            --border: rgba(255, 255, 255, 0.1);
        }

        body {
            background: var(--bg-main);
            color: var(--text);
            font-family: 'Inter', sans-serif;
            line-height: 1.8;
            margin: 0;
        }

        .reader-nav {
            padding: 20px 60px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(11, 15, 20, 0.95);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .back-link {
            color: var(--accent) !important;
            text-decoration: none;
            font-weight: 600;
        }

        .content-wrapper {
            max-width: 900px;
            margin: 60px auto;
            padding: 0 30px;
        }

        .chapter-header {
            border-left: 4px solid var(--accent);
            padding-left: 20px;
            margin-bottom: 60px;
        }

        .formula {
            background: #000;
            padding: 25px;
            border-radius: 8px;
            text-align: center;
            font-family: 'Fira Code', monospace;
            color: var(--accent);
            font-size: 1.3rem;
            margin: 30px 0;
            border: 1px solid var(--border);
        }

        .box {
            background: var(--glass);
            border-left: 4px solid var(--accent);
            padding: 25px;
            margin: 30px 0;
            border-radius: 0 12px 12px 0;
        }

        canvas {
            background: #000;
            border-radius: 8px;
            margin: 20px 0;
            border: 1px solid var(--border);
            display: block;
            width: 100%;
        }

        pre {
            background: #000;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            border: 1px solid var(--border);
            color: #dcdcaa;
            font-family: 'Fira Code', monospace;
        }

        footer {
            margin-top: 100px;
            padding: 40px;
            text-align: center;
            border-top: 1px solid var(--border);
            font-family: 'Dancing Script', cursive;
            font-size: 1.2rem;
        }

        .lema-container {
            padding: 40px;
            text-align: center;
            background: linear-gradient(135deg, rgba(46, 204, 113, 0.05) 0%, rgba(11, 15, 20, 0) 100%);
            border-radius: 15px;
            margin: 40px 0;
            border: 1px solid rgba(46, 204, 113, 0.2);
        }

        .lema-texto {
            font-family: 'Fira Code', monospace;
            font-size: 1.8rem;
            color: var(--accent);
            text-shadow: 0 0 15px rgba(46, 204, 113, 0.4);
            letter-spacing: 2px;
        }
    </style>
</head>

<body class="notion-theme">

    <nav class="reader-nav">
        <a href="index.html" class="back-link">‚Üê Voltar ao M√≥dulo 01</a>
        <div style="font-family: 'Fira Code', monospace; font-size: 0.8rem; opacity: 0.5;">CS_HUB / MAT_COMP / T1.1
        </div>
    </nav>

    <main class="content-wrapper">
        <header class="chapter-header">
            <span>Matem√°tica Computacional Aplicada (Stricto Sensu)</span>
            <h1>Representa√ß√£o Num√©rica, Modelo de M√°quina e Estabilidade Algor√≠tmica</h1>
            <p>A computa√ß√£o cient√≠fica n√£o opera sobre ‚Ñù, mas sobre um subconjunto finito F ‚äÇ ‚Ñù determinado pela
                arquitetura de m√°quina.</p>
        </header>
        <section id="introducao-historica">
            <h2>0. Por que uma Matem√°tica da "Imperfei√ß√£o"?</h2>

            <p>
                Para um matem√°tico puro, a reta real $\mathbb{R}$ √© cont√≠nua, infinita e densa. Contudo, para um
                computador, a mem√≥ria √© finita e a representa√ß√£o √© bin√°ria. Essa colis√£o entre o <strong>cont√≠nuo
                    ideal</strong> e o <strong>discreto f√≠sico</strong> criou a necessidade de uma nova arquitetura.
            </p>

            <div class="box">
                <strong>O Caos Pr√©-1985:</strong> Antes da padroniza√ß√£o, cada fabricante (IBM, Cray, DEC) tinha sua
                pr√≥pria forma de tratar o ponto flutuante. Um c√≥digo cient√≠fico que rodava em uma m√°quina dava
                resultados diferentes em outra. O padr√£o <strong>IEEE 754</strong> nasceu para unificar essa linguagem e
                dar previsibilidade ao erro.
            </div>

            <h3>O Trip√© da Disciplina: Sentido e Significado</h3>

            <ul>
                <li>
                    <strong>Representa√ß√£o Num√©rica:</strong> √â a tentativa de mapear o infinito em 64 bits. Como n√£o
                    podemos ter todos os n√∫meros, escolhemos ter mais precis√£o perto do zero e menos precis√£o em valores
                    imensos.
                </li>
                <li>
                    <strong>Modelo de M√°quina:</strong> √â o "contrato" entre o hardware e o software. Ele nos diz que
                    $fl(x) = x(1 + \delta)$. Aqui, aceitamos que o n√∫mero na mem√≥ria √© uma <em>perturba√ß√£o</em> do
                    n√∫mero real.
                </li>
                <li>
                    <strong>Estabilidade Algor√≠tmica:</strong> √â a arte de programar. Se o erro √© inevit√°vel, a
                    estabilidade garante que esse erro n√£o cres√ßa descontroladamente durante as itera√ß√µes.
                </li>
            </ul>

            <div class="formula">
                \mathbb{F} \subset \mathbb{R} \implies \text{Erro} \neq \text{Falha}
            </div>

            <p>
                Entender que operamos em um subconjunto finito $\mathbb{F}$ √© o que separa o programador comum do
                especialista em computa√ß√£o cient√≠fica. N√£o resolvemos problemas no mundo real, mas aproxima√ß√µes
                controladas no mundo bin√°rio.
            </p>
        </section>
        <section class="box">
            <h2>A Epistemologia do Erro</h2>
            <p>
                A express√£o <strong>$\mathbb{F} \subset \mathbb{R} \implies \text{Erro} \neq \text{Falha}$</strong>
                resume a nossa disciplina.
                Ela nos ensina que o erro n√£o √© um "bug" que deve ser removido, mas uma propriedade do sistema que deve
                ser gerenciada.
            </p>
            <ul>
                <li><strong>Erro:</strong> √â a dist√¢ncia inevit√°vel entre o pensamento matem√°tico e a mem√≥ria f√≠sica.
                </li>
                <li><strong>Falha:</strong> √â o desconhecimento dessa dist√¢ncia, resultando em algoritmos inst√°veis.
                </li>
            </ul>
            <div class="formula">
                Dominar a Matem√°tica Computacional √© aprender a caminhar sobre a "reta furada" de $\mathbb{F}$ sem cair
                no abismo das falhas num√©ricas.
            </div>
        </section>

        <h2>PARTE 1 ‚Äî Sistema de Ponto Flutuante</h2>
        <h3>1.1 Defini√ß√£o Formal</h3>
        <div class="formula">
            F(Œ≤, p, e<sub>min</sub>, e<sub>max</sub>) = { ¬± (1.d‚ÇÅd‚ÇÇ...d<sub>p-1</sub>)<sub>Œ≤</sub> Œ≤<sup>e</sup> }
        </div>
        <div class="box">
            Onde: Œ≤ = base | p = precis√£o | e ‚àà [e<sub>min</sub>, e<sub>max</sub>]. <br>
            Os d√≠gitos satisfazem d‚ÇÅ ‚àà {1,...,Œ≤‚àí1}. Logo, F √© finito.
        </div>
        <div class="box">
            <h3>Entendendo os Par√¢metros da M√°quina</h3>
            <p>
                A fun√ß√£o <strong>F(Œ≤, p, e<sub>min</sub>, e<sub>max</sub>)</strong> define o DNA de uma arquitetura.
                Cada componente determina um limite f√≠sico da representa√ß√£o:
            </p>

            <ul>
                <li>
                    <strong>Œ≤ (Base):</strong> Determina o sistema de numera√ß√£o. Na computa√ß√£o moderna, usamos
                    $\beta = 2$ (bin√°rio). Isso dita a "geometria" da distribui√ß√£o dos n√∫meros na reta.
                </li>
                <li>
                    <strong>p (Precis√£o):</strong> √â a quantidade de d√≠gitos significativos na mantissa.
                    Ela define o <em>poder de resolu√ß√£o</em> do sistema. Quanto maior o $p$, menor o "buraco"
                    entre um n√∫mero e seu sucessor.
                </li>
                <li>
                    <strong>[e<sub>min</sub>, e<sub>max</sub>] (Intervalo do Expoente):</strong> Define a
                    <em>escala</em> ou magnitude. O $e_{max}$ determina o teto (Overflow) e o $e_{min}$
                    determina o limite da normaliza√ß√£o antes do Underflow.
                </li>
            </ul>

            <p><strong>A Import√¢ncia do d‚ÇÅ ‚àà {1,...,Œ≤‚àí1}:</strong></p>
            <p>
                Esta restri√ß√£o garante que a representa√ß√£o seja <strong>normalizada</strong>.
                Ao for√ßar que o primeiro d√≠gito n√£o seja zero, garantimos que cada n√∫mero tenha uma
                representa√ß√£o √∫nica no sistema, otimizando o armazenamento de bits (o famoso "bit impl√≠cito" do IEEE
                754).
            </p>
        </div>

        <div class="scientific-box">
            <strong>Por que isso importa no Mestrado?</strong><br>
            Ao alterar qualquer um desses par√¢metros, mudamos a densidade de $\mathbb{F}$.
            Um problema que √© est√°vel em uma m√°quina com $p=53$ (double) pode tornar-se
            completamente ca√≥tico em um sistema embarcado com $p=24$ (float).
            A an√°lise num√©rica estuda justamente como o algoritmo sobrevive √† mudan√ßa desses par√¢metros.
        </div>

        <h3>1.2 Cardinalidade</h3>
        <div class="box">
            N√∫mero de mantissas poss√≠veis: Œ≤<sup>(p‚àí1)</sup>. <br>
            Logo: |F| = 2 √ó Œ≤<sup>(p‚àí1)</sup> √ó (e<sub>max</sub> ‚àí e<sub>min</sub> + 1). <br>
            Mostra-se explicitamente que F √© discreto.
        </div>

        <h3>1.3 Espa√ßamento</h3>
        <div class="formula">Œî = Œ≤<sup>e-(p-1)</sup></div>
        <div class="box">
            Para Œ≤=2: Œî = 2<sup>e-(p-1)</sup>. <br>
            Demonstra√ß√£o: Se x = (1 + k/2<sup>p-1</sup>) 2<sup>e</sup>, ent√£o o pr√≥ximo n√∫mero √©: x +
            2<sup>e-(p-1)</sup>.
        </div>

        <h3>Visualiza√ß√£o do Sistema Did√°tico F(2,4,e)</h3>
        <div class="box">
            <label>Expoente e: <span id="expValue" style="color:var(--accent)">0</span></label>
            <input type="range" min="-5" max="5" value="0" id="expoente"
                style="width:100%; accent-color:var(--accent);">
            <canvas id="canvasDiscreto" width="900" height="200"></canvas>
        </div>

        <h2>PARTE 2 ‚Äî IEEE 754</h2>
        <div class="formula">V = (-1)<sup>s</sup> (1.m) 2<sup>e-bias</sup></div>
        <div class="box">
            Double precision: 1 bit sinal | 11 bits expoente | 52 bits fra√ß√£o | bias = 1023. <br>
            Subnormais: expoente armazenado = 0. <br>
            Inf: expoente = 2047, fra√ß√£o=0. <br>
            NaN: expoente = 2047, fra√ß√£o ‚â† 0.
        </div>

        <h3>Deriva√ß√£o de Œµ<sub>mach</sub></h3>
        <div class="box">
            O menor incremento acima de 1 √©: 1.000...001‚ÇÇ. Diferen√ßa: 2<sup>-52</sup>. <br>
            Como arredondamento √© para o mais pr√≥ximo: |Œ¥| ‚â§ 2<sup>-53</sup>. <br>
            Logo: Œµ<sub>mach</sub> = 2<sup>-53</sup>.
        </div>

        <h2>PARTE 3 ‚Äî Modelo Matem√°tico do Erro</h2>
        <div class="formula">fl(x) = x(1 + Œ¥), |Œ¥| ‚â§ Œµ<sub>mach</sub></div>
        <div class="box">
            Prova: x est√° entre dois represent√°veis consecutivos x_ e x+. |x+ ‚àí x_| = Œî. Erro m√°ximo ‚â§ Œî/2. <br>
            Dividindo por |x|: |Œ¥| ‚â§ ¬Ω Œ≤<sup>‚àíp+1</sup>.
        </div>

        <h2>PARTE 4 ‚Äî Propaga√ß√£o de Erro</h2>
        <div class="formula">Œ≥<sub>n</sub> = nŒµ / (1 ‚àí nŒµ)</div>
        <h3>Prova Completa do Teorema Fundamental da Soma</h3>
        <div class="box">
            s<sub>k</sub> = fl(s<sub>k-1</sub> + x<sub>k</sub>) = (s<sub>k-1</sub> + x<sub>k</sub>)(1+Œ¥<sub>k</sub>).
            <br>
            Expandindo recursivamente: s<sub>n</sub> = (Œ£ x<sub>i</sub>) ‚àè(1+Œ¥<sub>i</sub>). <br>
            Logo: fl(Œ£ x<sub>i</sub>) = (Œ£ x<sub>i</sub>)(1+Œ∏<sub>n</sub>), onde |Œ∏<sub>n</sub>| ‚â§ Œ≥<sub>n</sub>.
        </div>

        <h2>PARTE 5 ‚Äî Condicionamento e Estabilidade</h2>
        <div class="formula">Œ∫(f,x) = |x f'(x) / f(x)|</div>
        <div class="box">
            Rela√ß√£o fundamental: Forward ‚âà Œ∫ √ó Backward. <br>
            Exemplo f(x)=1/x: Œ∫ = 1 (Bem condicionado). <br>
            Cancelamento: Para f(x,y)=x‚àíy com x‚âày, Œ∫ ‚Üí grande (Mal condicionado).
        </div>

        <h2>PARTE 6 ‚Äî Aplica√ß√µes Computacionais</h2>
        <pre>
def naive_sum(n):
    s = 0.0
    for _ in range(n):
        s += 0.1
    return s

def kahan_sum(n):
    s, c = 0.0, 0.0
    for _ in range(n):
        y = 0.1 - c
        t = s + y
        c = (t - s) - y
        s = t
    return s</pre>

        <h2>PARTE 7 ‚Äî Arquitetura Did√°tica</h2>
        <div class="box">
            <strong>Aula 1:</strong> Constru√ß√£o formal de F, Deriva√ß√£o de Œî, Exerc√≠cios de representa√ß√£o. <br>
            <strong>Aula 2:</strong> Deriva√ß√£o de Œµ<sub>mach</sub>, Experimento computacional. <br>
            <strong>Aula 3:</strong> Prova do Teorema da Soma, Introdu√ß√£o a Œ∫, Estabilidade backward.
        </div>

        <section id="revisao-flashcards">
            <h2>üóÇÔ∏è Flashcards de Revis√£o</h2>
            <div id="container-cards" class="flashcards-container"></div>
        </section>

        <footer>Jessica Fran√ßa - Matem√°tica Computacional Aplicada</footer>
    </main>

    <div id="card-modal" class="card-modal">
        <div class="modal-content" id="modal-target">
            <span class="close-popup" onclick="fecharModal()">&times;</span>
            <div class="modal-card-inner" onclick="virarCard(event)">
                <div class="modal-face front"><img id="img-frente" src=""></div>
                <div class="modal-face back"><img id="img-verso" src=""></div>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById("canvasDiscreto");
        const ctx = canvas.getContext("2d");
        const slider = document.getElementById("expoente");
        const expValue = document.getElementById("expValue");

        function draw(e) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            let nums = [];
            for (let i = 0; i < 8; i++) { nums.push((1 + i / 8) * Math.pow(2, e)); }
            let min = nums[0], max = nums[nums.length - 1], scale = 700 / (max - min);
            ctx.beginPath(); ctx.moveTo(100, 100); ctx.lineTo(800, 100);
            ctx.strokeStyle = "#2ecc71"; ctx.stroke();
            nums.forEach(v => {
                let x = 100 + (v - min) * scale;
                ctx.beginPath(); ctx.arc(x, 100, 4, 0, 2 * Math.PI);
                ctx.fillStyle = "#2ecc71"; ctx.fill();
            });
            ctx.fillStyle = "#2ecc71"; ctx.fillText("Œî = 2^(" + (e - 3) + ")", 100, 150);
        }

        slider.addEventListener("input", function () {
            expValue.textContent = this.value;
            draw(parseInt(this.value));
        });

        async function carregarDashboard() {
            const container = document.getElementById('container-cards');
            const response = await fetch('../../../data/mat-comp/cards-1-1.json');
            const data = await response.json();
            container.innerHTML = '';
            data.cards.forEach(card => {
                container.innerHTML += `<div class="folder-card" onclick="abrirPopup('${card.id}')"><div class="card-icon">üóÇÔ∏è</div><div class="folder-name">CARD ${card.id}</div></div>`;
            });
        }
        function abrirPopup(id) {
            document.getElementById('img-frente').src = `../../../assets/card${id}-frente.jpeg`;
            document.getElementById('img-verso').src = `../../../assets/card${id}-verso.jpeg`;
            document.getElementById('card-modal').style.display = 'flex';
        }
        function fecharModal() { document.getElementById('card-modal').style.display = 'none'; }
        function virarCard(e) { e.stopPropagation(); document.getElementById('modal-target').classList.toggle('is-flipped'); }

        draw(0); carregarDashboard();
    </script>
</body>

</html>