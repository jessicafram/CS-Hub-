<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tópico 1.3 — Estabilidade e Erro</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Fira+Code&family=Dancing+Script:wght@400&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../../../style.css">

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <style>
        .math-box {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: center;
            overflow-x: auto;
        }

        .concept-box {
            border-left: 4px solid var(--accent);
            background: rgba(46, 204, 113, 0.05);
            padding: 25px;
            margin: 30px 0;
            border-radius: 0 12px 12px 0;
        }

        .alert-box {
            border-left: 4px solid #e74c3c;
            background: rgba(231, 76, 60, 0.05);
            padding: 25px;
            margin: 30px 0;
            border-radius: 0 12px 12px 0;
        }

        h2 {
            color: var(--accent);
            margin-top: 60px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 10px;
        }

        h3 {
            color: #fff;
            margin-top: 40px;
        }

        p {
            margin-bottom: 15px;
        }

        .highlight-text {
            color: var(--accent);
            font-weight: 600;
        }
    </style>
</head>

<body class="notion-theme">

    <nav class="top-navbar">
        <a href="index.html" style="color: var(--accent); text-decoration: none; font-weight: bold;">← VOLTAR AO MÓDULO
            01</a>
        <span class="jessica-signature">CS_HUB / MAT_COMP / T1.3</span>
    </nav>

    <main class="content-wrapper" style="max-width: 900px; margin: 60px auto;">
        <header class="chapter-header">
            <span class="badge-tech">MATEMÁTICA COMPUTACIONAL APLICADA</span>
            <h1 style="font-size: 2.2rem; color: var(--accent);">Estabilidade e Erro Forward/Backward</h1>
            <p>O paradigma de J.H. Wilkinson: Como julgar se um algoritmo é verdadeiramente confiável ou se o problema
                matemático é que estava fadado ao fracasso.</p>
        </header>

        <section class="glass-container-main" style="padding: 40px; border-radius: 24px;">

            <h2>0. A Ilusão da Resposta "Certa"</h2>
            <p>Seja $f(x)$ um problema matemático e $\tilde{f}(x)$ o algoritmo que roda no computador. Devido ao espaço
                discreto $\mathbb{F}$ (como vimos no Tópico 1.1), quase nunca teremos $\tilde{f}(x) = f(x)$. Sempre
                haverá um erro.</p>
            <p>Mas como medimos esse erro? A abordagem natural humana é olhar para o final do processo, mas a Análise
                Numérica moderna exige olhar também para o início.</p>

            <h2>1. Erro Forward (O Erro Para Frente)</h2>
            <p>O <strong>Erro Forward</strong> é a forma clássica e óbvia de medir um erro. É a diferença entre o
                resultado exato que você esperava $y = f(x)$ e o resultado aproximado que o computador te entregou
                $\tilde{y} = \tilde{f}(x)$.</p>

            <div class="math-box">
                $$ E_{forward} = \|\tilde{y} - y\| \quad \text{(Erro Absoluto)} $$
                $$ E_{forward\_relativo} = \frac{\|\tilde{y} - y\|}{\|y\|} \quad \text{(Erro Relativo)} $$
            </div>

            <p><strong>O Problema:</strong> Se o Erro Forward for gigante, a culpa é do seu algoritmo (programador) ou o
                problema era Mal Condicionado (Tópico 1.2)? O Erro Forward, sozinho, não responde isso.</p>

            <h2>2. Erro Backward (A Mudança de Paradigma)</h2>
            <p>Nos anos 60, o matemático James H. Wilkinson propôs uma inversão genial. Em vez de medir o erro na
                resposta (no espaço $Y$), vamos medir o erro na pergunta (no espaço $X$).</p>
            <p>O <strong>Erro Backward</strong> pergunta: <em>Qual seria a perturbação $\Delta x$ que eu teria que fazer
                    nos dados de entrada originais $x$ para que a resposta exata da matemática fosse igual à resposta
                    errada que o computador me deu?</em></p>

            <div class="math-box">
                $$ f(x + \Delta x) = \tilde{y} $$
                $$ E_{backward} = \|\Delta x\| $$
            </div>



            <div class="concept-box">
                <h4 style="margin-top:0; color: var(--accent);">O Santo Graal: Algoritmo Backward Stable</h4>
                <p>Um algoritmo é considerado <strong>Backward Stable</strong> (Estável para trás) se ele entrega a
                    resposta exata para um problema <em>ligeiramente perturbado</em>. Em termos de hardware, isso
                    significa que $\Delta x \approx \varepsilon_{mach}$.</p>
                <p>Se o seu algoritmo atinge isso, ele é perfeito. Ele fez o melhor que o hardware permitia. Você, como
                    programadora, cumpriu o seu papel com excelência.</p>
            </div>

            <h2>3. A Regra de Ouro da Análise Numérica</h2>
            <p>Como o Condicionamento $\kappa(x)$ (Tópico 1.2) se conecta com a Estabilidade (Tópico 1.3)? Através do
                Teorema Fundamental que une as duas pontas:</p>

            <div class="math-box">
                $$ \text{Erro Forward} \lesssim \kappa(f, x) \times \text{Erro Backward} $$
            </div>

            <div class="alert-box">
                <h4 style="margin-top:0; color: #e74c3c;">O Julgamento Final do Algoritmo</h4>
                <p>Se você tem um erro gigante na saída (Forward enorme), use a equação acima para investigar o culpado:
                </p>
                <ul>
                    <li>Se o <strong>$\kappa$ for enorme</strong>, a culpa é do problema matemático (Mal condicionado).
                        Nem o melhor algoritmo do mundo te salvaria.</li>
                    <li>Se o <strong>Erro Backward for enorme</strong>, a culpa é sua. Seu algoritmo é instável,
                        amplificou lixo na memória e destruiu a precisão. (Ex: Cancelamento Catastrófico).</li>
                </ul>
            </div>

            <h2>4. Cancelamento Catastrófico na Prática</h2>
            <p>O erro mais comum que destrói a Estabilidade Backward de um algoritmo é subtrair dois números muito
                próximos. Os bits significativos se anulam, e o que sobra na memória é apenas o lixo computacional de
                arredondamentos anteriores.</p>

            <div class="concept-box">
                <h4 style="margin-top:0; color: var(--accent);">Exemplo Clássico: O Cálculo da Variância</h4>
                <p>Em estatística e Machine Learning, a variância pode ser calculada de duas formas. A fórmula ingênua
                    (usada em livros de matemática) é um desastre no computador se os dados tiverem média alta e
                    variância baixa.</p>
                <pre
                    style="background: #000; padding: 15px; border-radius: 8px; border: 1px solid var(--border); color: #dcdcaa; font-family: 'Fira Code', monospace; overflow-x: auto;">
import numpy as np

# Dados simulados com média muito alta e variação muito pequena
dados = [1000000000.001, 1000000000.002, 1000000000.003]

# --- Algoritmo 1: Ingênuo (Matemático puro) - INSTÁVEL ---
# Fórmula: E[X^2] - (E[X])^2
media = sum(dados) / 3
media_quadrados = sum([x**2 for x in dados]) / 3
variancia_ingenua = media_quadrados - (media**2)

# --- Algoritmo 2: Dois Passos (Welford simplificado) - ESTÁVEL ---
# Fórmula: Soma((x - media)^2) / n
variancia_estavel = sum([(x - media)**2 for x in dados]) / 3

print(f"Variância Ingênua: {variancia_ingenua}") 
# Saída pode ser um valor negativo ou lixo completo devido ao cancelamento!

print(f"Variância Estável: {variancia_estavel}") 
# Saída correta computada sem cancelar bits críticos.
</pre>
            </div>

        </section>

        <footer style="margin-top: 80px; text-align: center; border-top: 1px solid var(--border); padding-top: 40px;">
            <p class="signature" style="font-size: 1.8rem; font-family: 'Dancing Script', cursive;">Jessica França</p>
        </footer>
    </main>

</body>

</html>